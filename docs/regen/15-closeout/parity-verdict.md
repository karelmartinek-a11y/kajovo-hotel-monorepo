# ORF-09 Prompt 14/15 – parity verdict

## Release parity summary
- Total modules: **44**
- DONE: **41**
- BLOCKED: **3**
- Verdict: **READY WITH BLOCKERS** (produkční release je připravený po explicitním akceptování BLOCKED položek).

## Module verdict map

| Module | Status | Verification link |
|---|---|---|
| `dashboard` | **DONE** | [docs/regen/15-closeout/parity-verdict.md#module-dashboard](docs/regen/15-closeout/parity-verdict.md#module-dashboard) |
| `breakfast` | **DONE** | [docs/regen/15-closeout/parity-verdict.md#module-breakfast](docs/regen/15-closeout/parity-verdict.md#module-breakfast) |
| `lost_found` | **DONE** | [docs/regen/15-closeout/parity-verdict.md#module-lost-found](docs/regen/15-closeout/parity-verdict.md#module-lost-found) |
| `issues` | **DONE** | [docs/regen/15-closeout/parity-verdict.md#module-issues](docs/regen/15-closeout/parity-verdict.md#module-issues) |
| `inventory` | **DONE** | [docs/regen/15-closeout/parity-verdict.md#module-inventory](docs/regen/15-closeout/parity-verdict.md#module-inventory) |
| `reports` | **DONE** | [docs/regen/15-closeout/parity-verdict.md#module-reports](docs/regen/15-closeout/parity-verdict.md#module-reports) |
| `admin_portal_split` | **DONE** | [docs/regen/15-closeout/parity-verdict.md#module-admin-portal-split](docs/regen/15-closeout/parity-verdict.md#module-admin-portal-split) |
| `portal_route_coverage_evidence` | **DONE** | [docs/regen/15-closeout/parity-verdict.md#module-portal-route-coverage-evidence](docs/regen/15-closeout/parity-verdict.md#module-portal-route-coverage-evidence) |
| `admin_shell_nav_map_evidence` | **DONE** | [docs/regen/15-closeout/parity-verdict.md#module-admin-shell-nav-map-evidence](docs/regen/15-closeout/parity-verdict.md#module-admin-shell-nav-map-evidence) |
| `user_management_only_auth` | **DONE** | [docs/regen/15-closeout/parity-verdict.md#module-user-management-only-auth](docs/regen/15-closeout/parity-verdict.md#module-user-management-only-auth) |
| `auth_constraints_fixed_admin_immutable_password` | **DONE** | [docs/regen/15-closeout/parity-verdict.md#module-auth-constraints-fixed-admin-immutable-password](docs/regen/15-closeout/parity-verdict.md#module-auth-constraints-fixed-admin-immutable-password) |
| `rbac_hardening_admin_endpoints` | **DONE** | [docs/regen/15-closeout/parity-verdict.md#module-rbac-hardening-admin-endpoints](docs/regen/15-closeout/parity-verdict.md#module-rbac-hardening-admin-endpoints) |
| `rbac_verification_doc_section_fix` | **DONE** | [docs/regen/15-closeout/parity-verdict.md#module-rbac-verification-doc-section-fix](docs/regen/15-closeout/parity-verdict.md#module-rbac-verification-doc-section-fix) |
| `smtp_settings_and_unified_email_service` | **DONE** | [docs/regen/15-closeout/parity-verdict.md#module-smtp-settings-and-unified-email-service](docs/regen/15-closeout/parity-verdict.md#module-smtp-settings-and-unified-email-service) |
| `device` | **BLOCKED** | [docs/regen/15-closeout/parity-verdict.md#module-device](docs/regen/15-closeout/parity-verdict.md#module-device) |
| `entity_id_flow` | **BLOCKED** | [docs/regen/15-closeout/parity-verdict.md#module-entity-id-flow](docs/regen/15-closeout/parity-verdict.md#module-entity-id-flow) |
| `api_packaging` | **DONE** | [docs/regen/15-closeout/parity-verdict.md#module-api-packaging](docs/regen/15-closeout/parity-verdict.md#module-api-packaging) |
| `web_e2e_browser_bootstrap` | **DONE** | [docs/regen/15-closeout/parity-verdict.md#module-web-e2e-browser-bootstrap](docs/regen/15-closeout/parity-verdict.md#module-web-e2e-browser-bootstrap) |
| `web_visual_snapshot_project_scope` | **DONE** | [docs/regen/15-closeout/parity-verdict.md#module-web-visual-snapshot-project-scope](docs/regen/15-closeout/parity-verdict.md#module-web-visual-snapshot-project-scope) |
| `web_visual_suite_gating` | **DONE** | [docs/regen/15-closeout/parity-verdict.md#module-web-visual-suite-gating](docs/regen/15-closeout/parity-verdict.md#module-web-visual-suite-gating) |
| `web_test_command_split` | **DONE** | [docs/regen/15-closeout/parity-verdict.md#module-web-test-command-split](docs/regen/15-closeout/parity-verdict.md#module-web-test-command-split) |
| `web_playwright_browser_parity` | **DONE** | [docs/regen/15-closeout/parity-verdict.md#module-web-playwright-browser-parity](docs/regen/15-closeout/parity-verdict.md#module-web-playwright-browser-parity) |
| `api_foundation_prompt_06` | **DONE** | [docs/regen/15-closeout/parity-verdict.md#module-api-foundation-prompt-06](docs/regen/15-closeout/parity-verdict.md#module-api-foundation-prompt-06) |
| `api_foundation_contract_sync_fix` | **DONE** | [docs/regen/15-closeout/parity-verdict.md#module-api-foundation-contract-sync-fix](docs/regen/15-closeout/parity-verdict.md#module-api-foundation-contract-sync-fix) |
| `api_health_alias_schema_fix` | **DONE** | [docs/regen/15-closeout/parity-verdict.md#module-api-health-alias-schema-fix](docs/regen/15-closeout/parity-verdict.md#module-api-health-alias-schema-fix) |
| `verification_doc_section_header_fix_prompt_06` | **DONE** | [docs/regen/15-closeout/parity-verdict.md#module-verification-doc-section-header-fix-prompt-06](docs/regen/15-closeout/parity-verdict.md#module-verification-doc-section-header-fix-prompt-06) |
| `api_test_csrf_session_setup` | **DONE** | [docs/regen/15-closeout/parity-verdict.md#module-api-test-csrf-session-setup](docs/regen/15-closeout/parity-verdict.md#module-api-test-csrf-session-setup) |
| `api_python_lint_ci_stability` | **DONE** | [docs/regen/15-closeout/parity-verdict.md#module-api-python-lint-ci-stability](docs/regen/15-closeout/parity-verdict.md#module-api-python-lint-ci-stability) |
| `api_test_sqlite_db_path_stability` | **DONE** | [docs/regen/15-closeout/parity-verdict.md#module-api-test-sqlite-db-path-stability](docs/regen/15-closeout/parity-verdict.md#module-api-test-sqlite-db-path-stability) |
| `api_test_sqlite_ci_data_dir_alignment` | **DONE** | [docs/regen/15-closeout/parity-verdict.md#module-api-test-sqlite-ci-data-dir-alignment](docs/regen/15-closeout/parity-verdict.md#module-api-test-sqlite-ci-data-dir-alignment) |
| `api_test_workspace_path_portability` | **DONE** | [docs/regen/15-closeout/parity-verdict.md#module-api-test-workspace-path-portability](docs/regen/15-closeout/parity-verdict.md#module-api-test-workspace-path-portability) |
| `api_test_db_tmpdir_isolation` | **DONE** | [docs/regen/15-closeout/parity-verdict.md#module-api-test-db-tmpdir-isolation](docs/regen/15-closeout/parity-verdict.md#module-api-test-db-tmpdir-isolation) |
| `api_test_uvicorn_cwd_stability` | **DONE** | [docs/regen/15-closeout/parity-verdict.md#module-api-test-uvicorn-cwd-stability](docs/regen/15-closeout/parity-verdict.md#module-api-test-uvicorn-cwd-stability) |
| `contract_generated_client_sync` | **DONE** | [docs/regen/15-closeout/parity-verdict.md#module-contract-generated-client-sync](docs/regen/15-closeout/parity-verdict.md#module-contract-generated-client-sync) |
| `web_nav_initial_media_state_stability` | **DONE** | [docs/regen/15-closeout/parity-verdict.md#module-web-nav-initial-media-state-stability](docs/regen/15-closeout/parity-verdict.md#module-web-nav-initial-media-state-stability) |
| `policy_entity_id_rename_guard` | **DONE** | [docs/regen/15-closeout/parity-verdict.md#module-policy-entity-id-rename-guard](docs/regen/15-closeout/parity-verdict.md#module-policy-entity-id-rename-guard) |
| `web_view_states_auth_fallback_permissions` | **DONE** | [docs/regen/15-closeout/parity-verdict.md#module-web-view-states-auth-fallback-permissions](docs/regen/15-closeout/parity-verdict.md#module-web-view-states-auth-fallback-permissions) |
| `web_view_states_auth_catch_fallback` | **DONE** | [docs/regen/15-closeout/parity-verdict.md#module-web-view-states-auth-catch-fallback](docs/regen/15-closeout/parity-verdict.md#module-web-view-states-auth-catch-fallback) |
| `web_ci_view_states_auth_me_mock` | **DONE** | [docs/regen/15-closeout/parity-verdict.md#module-web-ci-view-states-auth-me-mock](docs/regen/15-closeout/parity-verdict.md#module-web-ci-view-states-auth-me-mock) |
| `delivery_tracker` | **DONE** | [docs/regen/15-closeout/parity-verdict.md#module-delivery-tracker](docs/regen/15-closeout/parity-verdict.md#module-delivery-tracker) |
| `repo_guardrails_and_ci_policy` | **DONE** | [docs/regen/15-closeout/parity-verdict.md#module-repo-guardrails-and-ci-policy](docs/regen/15-closeout/parity-verdict.md#module-repo-guardrails-and-ci-policy) |
| `design_foundation_tokens_signage_panel` | **DONE** | [docs/regen/15-closeout/parity-verdict.md#module-design-foundation-tokens-signage-panel](docs/regen/15-closeout/parity-verdict.md#module-design-foundation-tokens-signage-panel) |
| `api_rbac_deny_matrix_ruff_compliance` | **DONE** | [docs/regen/15-closeout/parity-verdict.md#module-api-rbac-deny-matrix-ruff-compliance](docs/regen/15-closeout/parity-verdict.md#module-api-rbac-deny-matrix-ruff-compliance) |
| `ci_e2e_smoke_auth_stabilization` | **BLOCKED** | [docs/regen/15-closeout/parity-verdict.md#module-ci-e2e-smoke-auth-stabilization](docs/regen/15-closeout/parity-verdict.md#module-ci-e2e-smoke-auth-stabilization) |

### Module `dashboard`
- Status: **DONE**
- Required behavior: Přehledová route a navigační vstup dle IA
- Verification: `docs/regen/15-closeout/parity-verdict.md#module-dashboard`

### Module `breakfast`
- Status: **DONE**
- Required behavior: CRUD + denní souhrn snídaní v UI/API
- Verification: `docs/regen/15-closeout/parity-verdict.md#module-breakfast`

### Module `lost_found`
- Status: **DONE**
- Required behavior: Evidence ztrát a nálezů (list/detail/create/edit/delete)
- Verification: `docs/regen/15-closeout/parity-verdict.md#module-lost-found`

### Module `issues`
- Status: **DONE**
- Required behavior: Evidence závad (list/detail/create/edit/delete)
- Verification: `docs/regen/15-closeout/parity-verdict.md#module-issues`

### Module `inventory`
- Status: **DONE**
- Required behavior: Sklad + pohyby + audit
- Verification: `docs/regen/15-closeout/parity-verdict.md#module-inventory`

### Module `reports`
- Status: **DONE**
- Required behavior: Hlášení (list/detail/create/edit/delete)
- Verification: `docs/regen/15-closeout/parity-verdict.md#module-reports`

### Module `admin_portal_split`
- Status: **DONE**
- Required behavior: Striktní oddělení Admin UI a Portal UI (separate login + separate app/entry)
- Verification: `docs/regen/15-closeout/parity-verdict.md#module-admin-portal-split`

### Module `portal_route_coverage_evidence`
- Status: **DONE**
- Required behavior: Prompt 04 má auditovatelný route coverage matrix (IA route -> komponenta -> stav -> test)
- Verification: `docs/regen/15-closeout/parity-verdict.md#module-portal-route-coverage-evidence`

### Module `admin_shell_nav_map_evidence`
- Status: **DONE**
- Required behavior: Prompt 05 má auditovatelnou mapu panel design -> admin route/view
- Verification: `docs/regen/15-closeout/parity-verdict.md#module-admin-shell-nav-map-evidence`

### Module `user_management_only_auth`
- Status: **DONE**
- Required behavior: Jediná autorizace přes správu uživatelů v Admin menu; email=username
- Verification: `docs/regen/15-closeout/parity-verdict.md#module-user-management-only-auth`

### Module `auth_constraints_fixed_admin_immutable_password`
- Status: **DONE**
- Required behavior: Fixed admin + immutable password model; forgot admin password pouze hint email flow
- Verification: `docs/regen/15-closeout/parity-verdict.md#module-auth-constraints-fixed-admin-immutable-password`

### Module `rbac_hardening_admin_endpoints`
- Status: **DONE**
- Required behavior: Server-side RBAC checks + actor-type guard na admin endpointy; UI unauthorized handling + deny matrix evidence
- Verification: `docs/regen/15-closeout/parity-verdict.md#module-rbac-hardening-admin-endpoints`

### Module `rbac_verification_doc_section_fix`
- Status: **DONE**
- Required behavior: CI verification-doc checker projde pro ORF-06 Prompt 08 (přesný název sekce E)
- Verification: `docs/regen/15-closeout/parity-verdict.md#module-rbac-verification-doc-section-fix`

### Module `smtp_settings_and_unified_email_service`
- Status: **DONE**
- Required behavior: Admin SMTP settings secure storage + masked secret + test-email; hint + onboarding přes jednotný EmailService
- Verification: `docs/regen/15-closeout/parity-verdict.md#module-smtp-settings-and-unified-email-service`

### Module `device`
- Status: **BLOCKED**
- Required behavior: Device provisioning/pairing/challenge/verify + Entity ID flow
- Verification: `docs/regen/15-closeout/parity-verdict.md#module-device`
- Block reason: Device modul: DROPPED

### Module `entity_id_flow`
- Status: **BLOCKED**
- Required behavior: Entity ID auth/provisioning flow
- Verification: `docs/regen/15-closeout/parity-verdict.md#module-entity-id-flow`
- Block reason: Entity ID flow is not allowed in target architecture

### Module `api_packaging`
- Status: **DONE**
- Required behavior: Editable install pro apps/kajovo-hotel-api funguje v CI bez setuptools discovery chyby
- Verification: `docs/regen/15-closeout/parity-verdict.md#module-api-packaging`

### Module `web_e2e_browser_bootstrap`
- Status: **DONE**
- Required behavior: Web test job vždy zajistí dostupný Playwright Chromium před spuštěním testů
- Verification: `docs/regen/15-closeout/parity-verdict.md#module-web-e2e-browser-bootstrap`

### Module `web_visual_snapshot_project_scope`
- Status: **DONE**
- Required behavior: Visual snapshot testy nepárují viewport varianty napříč phone/tablet/desktop projekty
- Verification: `docs/regen/15-closeout/parity-verdict.md#module-web-visual-snapshot-project-scope`

### Module `web_visual_suite_gating`
- Status: **DONE**
- Required behavior: Default playwright test běh nepadá na visual snapshot baseline mismatch; visual suite je explicitně opt-in
- Verification: `docs/regen/15-closeout/parity-verdict.md#module-web-visual-suite-gating`

### Module `web_test_command_split`
- Status: **DONE**
- Required behavior: Default web test command je stabilní (core gates), visual suite běží separátně
- Verification: `docs/regen/15-closeout/parity-verdict.md#module-web-test-command-split`

### Module `web_playwright_browser_parity`
- Status: **DONE**
- Required behavior: Playwright projekty používají browser engine dostupný v CI install kroku
- Verification: `docs/regen/15-closeout/parity-verdict.md#module-web-playwright-browser-parity`

### Module `api_foundation_prompt_06`
- Status: **DONE**
- Required behavior: API foundation má health/readiness endpointy, jednotný error envelope a request_id/audit evidenci
- Verification: `docs/regen/15-closeout/parity-verdict.md#module-api-foundation-prompt-06`

### Module `api_foundation_contract_sync_fix`
- Status: **DONE**
- Required behavior: Po změně API foundation jsou OpenAPI contract a generated TS client synchronizované
- Verification: `docs/regen/15-closeout/parity-verdict.md#module-api-foundation-contract-sync-fix`

### Module `api_health_alias_schema_fix`
- Status: **DONE**
- Required behavior: Alias /api/health je dostupný runtime, ale negeneruje public OpenAPI/SDK endpoint
- Verification: `docs/regen/15-closeout/parity-verdict.md#module-api-health-alias-schema-fix`

### Module `verification_doc_section_header_fix_prompt_06`
- Status: **DONE**
- Required behavior: Verification doc pro prompt 06 splňuje přesný název sekce E) Rizika/known limits
- Verification: `docs/regen/15-closeout/parity-verdict.md#module-verification-doc-section-header-fix-prompt-06`

### Module `api_test_csrf_session_setup`
- Status: **DONE**
- Required behavior: API test setup používá validní session + CSRF token pro write requesty a stabilní uvicorn bootstrap
- Verification: `docs/regen/15-closeout/parity-verdict.md#module-api-test-csrf-session-setup`

### Module `api_python_lint_ci_stability`
- Status: **DONE**
- Required behavior: Python API lint gate je zelená (Ruff E/F/I), včetně CSRF middleware formátování
- Verification: `docs/regen/15-closeout/parity-verdict.md#module-api-python-lint-ci-stability`

### Module `api_test_sqlite_db_path_stability`
- Status: **DONE**
- Required behavior: API test SQLite DB běží na existující zapisovatelné cestě v lokálu i CI
- Verification: `docs/regen/15-closeout/parity-verdict.md#module-api-test-sqlite-db-path-stability`

### Module `api_test_sqlite_ci_data_dir_alignment`
- Status: **DONE**
- Required behavior: CI i pytest fixture používají shodný SQLite data adresář apps/kajovo-hotel-api/data
- Verification: `docs/regen/15-closeout/parity-verdict.md#module-api-test-sqlite-ci-data-dir-alignment`

### Module `api_test_workspace_path_portability`
- Status: **DONE**
- Required behavior: API test DB path není hardcoded na /workspace a funguje v GitHub Actions i lokálně
- Verification: `docs/regen/15-closeout/parity-verdict.md#module-api-test-workspace-path-portability`

### Module `api_test_db_tmpdir_isolation`
- Status: **DONE**
- Required behavior: API test SQLite DB běží v pytest tmpdir (write-safe, bez host-specific /workspace závislosti)
- Verification: `docs/regen/15-closeout/parity-verdict.md#module-api-test-db-tmpdir-isolation`

### Module `api_test_uvicorn_cwd_stability`
- Status: **DONE**
- Required behavior: API test fixture spouští uvicorn s cwd nezávislým na aktuálním pracovním adresáři
- Verification: `docs/regen/15-closeout/parity-verdict.md#module-api-test-uvicorn-cwd-stability`

### Module `contract_generated_client_sync`
- Status: **DONE**
- Required behavior: OpenAPI export a generated shared client jsou synchronní po API změnách (včetně user password endpointů)
- Verification: `docs/regen/15-closeout/parity-verdict.md#module-contract-generated-client-sync`

### Module `web_nav_initial_media_state_stability`
- Status: **DONE**
- Required behavior: Navigace má deterministický initial phone/tablet state bez prvního desktop renderu na tablet viewportu
- Verification: `docs/regen/15-closeout/parity-verdict.md#module-web-nav-initial-media-state-stability`

### Module `policy_entity_id_rename_guard`
- Status: **DONE**
- Required behavior: Policy sentinel nehlásí zakázaný Entity ID naming v API schemas/models ani generated client
- Verification: `docs/regen/15-closeout/parity-verdict.md#module-policy-entity-id-rename-guard`

### Module `web_view_states_auth_fallback_permissions`
- Status: **DONE**
- Required behavior: View-states smoke route nezkončí na AccessDenied při neúspěšném /api/auth/me; read fallback je deterministický
- Verification: `docs/regen/15-closeout/parity-verdict.md#module-web-view-states-auth-fallback-permissions`

### Module `web_view_states_auth_catch_fallback`
- Status: **DONE**
- Required behavior: AppRoutes auth bootstrap catch používá read fallback permissions místo prázdné sady
- Verification: `docs/regen/15-closeout/parity-verdict.md#module-web-view-states-auth-catch-fallback`

### Module `web_ci_view_states_auth_me_mock`
- Status: **DONE**
- Required behavior: CI gate view-states má deterministický auth/me mock a neselhává na bootstrap auth endpointu
- Verification: `docs/regen/15-closeout/parity-verdict.md#module-web-ci-view-states-auth-me-mock`

### Module `delivery_tracker`
- Status: **DONE**
- Required behavior: Jednoznačný SSOT tracker pro ORF prompty 00–15 včetně mapování fix větví
- Verification: `docs/regen/15-closeout/parity-verdict.md#module-delivery-tracker`

### Module `repo_guardrails_and_ci_policy`
- Status: **DONE**
- Required behavior: CI failne při porušení zákazů /device/*, Entity ID, sdílení Admin/Portal page-view, respektuje whitelist brand/** a při chybějícím docs/regen/<NN>-<slug>/verification.md v PR
- Verification: `docs/regen/15-closeout/parity-verdict.md#module-repo-guardrails-and-ci-policy`

### Module `design_foundation_tokens_signage_panel`
- Status: **DONE**
- Required behavior: Jednotné tokeny (Portal/Admin), signace dle manifestu a panel layout mechanismus
- Verification: `docs/regen/15-closeout/parity-verdict.md#module-design-foundation-tokens-signage-panel`

### Module `api_rbac_deny_matrix_ruff_compliance`
- Status: **DONE**
- Required behavior: RBAC deny-matrix test je Ruff compliant (import order + max line length) a neblokuje API lint gate
- Verification: `docs/regen/15-closeout/parity-verdict.md#module-api-rbac-deny-matrix-ruff-compliance`

### Module `ci_e2e_smoke_auth_stabilization`
- Status: **BLOCKED**
- Required behavior: CI má deterministický Playwright smoke pro admin login, admin hint flow a user-create+portal-login včetně browser provisioning, service orchestrace a validní verification.md sekcí A-F a stabilní webServer URL readiness bez timeoutu včetně CI-friendly startup režimu: prebuild v workflow + preview-only webServer pro admin/portal smoke a korektní Playwright testDir discovery pro smoke suite a stabilní hint-flow krok bez flaky UI assertion
- Verification: `docs/regen/15-closeout/parity-verdict.md#module-ci-e2e-smoke-auth-stabilization`
- Block reason: Blocker requires explicit risk acceptance in release checklist.
